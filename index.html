<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>Haloilmiöt tietokoneessa</title>

    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/reveal.css" />
    <link rel="stylesheet" href="css/theme/beige.css" />

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/monokai.css" />

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement('link');
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match(/print-pdf/gi)
        ? 'css/print/pdf.css'
        : 'css/print/paper.css';
      document.getElementsByTagName('head')[0].appendChild(link);
    </script>
    <script src="js/three.js"></script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h1>Haloilmiöt tietokoneessa</h1>
          <h4>Samuli Vuorinen</h4>
          <h4>27.7.2019</h4>
        </section>

        <section>
          <section data-background-image="images/tuijottelua.jpg">
            <h1 style="color: white">Taivaalle tuijottelua jo vuodesta 1988</h1>
          </section>
          <section>
            <h2>Kuka?</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr">
              <div style="grid-column: 1;">
                <ul>
                  <li>Pitkän linjan tähtiharrastaja</li>
                  <li>Ohjelmistoinsinööri päiväsaikaan</li>
                </ul>
              </div>

              <div style="grid-column: 2;">
                <img style="max-height: unset;" src="images/omakuva_kiroilua.PNG" />
                <p style="font-size: 0.5em;">Kuva: Janne Kari</p>
              </div>
            </div>
          </section>
        </section>

        <section data-background-image="images/halotaustakuva.jpg">
          <h2 style="color: white">Mitä haloilmiöt ovat?</h2>
        </section>

        <section>
          <h3>Hienoja 3D-kuvia</h3>
          <canvas id="threejstest" width="700" height="700"></canvas>
          <script>
            let renderer = new THREE.WebGLRenderer({
              canvas: threejstest,
              alpha: true,
              antialias: true
            });

            let canvasSize = new THREE.Vector2();
            renderer.getSize(canvasSize);
            let aspectRatio = canvasSize.x / canvasSize.y;
            let camera = new THREE.PerspectiveCamera(45, aspectRatio, 0.1, 1000);

            let scene = new THREE.Scene();
            var light = new THREE.HemisphereLight(0xffffff, 0x0f0f0f, 1);
            scene.add(light);

            // Hexagonal ice crystal geometry
            let crystal = new THREE.CylinderGeometry(1, 1, 1, 6, 1);

            // Edges of crystal
            let edges = new THREE.EdgesGeometry(crystal);
            let line = new THREE.LineSegments(
              edges,
              new THREE.LineBasicMaterial({ color: 0x000000 })
            );
            scene.add(line);

            // Base material for crystal
            let crystalMaterial = new THREE.MeshStandardMaterial({
              transparent: true,
              opacity: 0.75,
              color: 0xaaccff
            });
            let crystalMesh = new THREE.Mesh(crystal, crystalMaterial);
            scene.add(crystalMesh);

            // Cast ray to crystal
            let rayOrigin = new THREE.Vector3(1.0, 3.0, 0.0);
            let rayDir = new THREE.Vector3(-0.2, -1.0, 0.0).normalize();
            let raycaster = new THREE.Raycaster(rayOrigin, rayDir);
            let intersectionPoints = raycaster.intersectObject(crystalMesh);

            // Draw ray
            let rayGeometry = new THREE.Geometry();
            rayGeometry.vertices.push(rayOrigin);
            rayGeometry.vertices.push(intersectionPoints[0].point);
            let rayLineMesh = new THREE.Line(
              rayGeometry,
              new THREE.LineBasicMaterial({
                color: 0x000000
              })
            );
            scene.add(rayLineMesh);

            let t = 0;
            function animate() {
              camera.position.set(5.0 * Math.sin(t), 1.0, 5.0 * Math.cos(t));
              camera.lookAt(new THREE.Vector3(0.0, 0.0, 0.0));
              t = t + 0.005;
              requestAnimationFrame(animate);
              renderer.render(scene, camera);
            }
            animate();
          </script>
        </section>
        <section>
          <h2>Nopeus</h2>
          <ul>
            <li class="fragment">
              Intel i7-3770K
              <ul>
                <li class="fragment">Kellotaajuus 3,40 GHz</li>
                <li class="fragment">4 ydintä</li>
              </ul>
            </li>
            <li class="fragment">
              NVIDIA Geforce GTX 1070
              <ul>
                <li class="fragment">Kellotaajuus 1,50 GHz</li>
                <li class="fragment">1920 ydintä<span class="fragment"> !!!</span></li>
              </ul>
            </li>
          </ul>
        </section>

        <section>
          <h2>HaloRay</h2>
          <img height="500" src="images/haloray-screenshot.jpg" />
        </section>
      </div>
    </div>

    <script src="js/reveal.js"></script>

    <script>
      // More info about config & dependencies:
      // - https://github.com/hakimel/reveal.js#configuration
      // - https://github.com/hakimel/reveal.js#dependencies
      Reveal.initialize({
        hash: true,
        dependencies: [
          { src: 'plugin/markdown/marked.js' },
          { src: 'plugin/markdown/markdown.js' },
          { src: 'plugin/notes/notes.js', async: true }
        ]
      });
    </script>
  </body>
</html>
