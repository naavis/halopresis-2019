<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>Haloilmiöt tietokoneessa</title>

    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/reveal.css" />
    <link rel="stylesheet" href="css/theme/beige.css" />

    <script src="js/three.js"></script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h1>Haloilmiöt tietokoneessa</h1>
          <h4>Samuli Vuorinen</h4>
          <h4>27.7.2019</h4>
        </section>

        <section>
          <section data-background-image="images/tuijottelua.jpg">
            <h1 style="color: white">Taivaalle tuijottelua jo vuodesta 1988</h1>
            <aside class="notes">
              Tähtiharrastaja, kohta 31-vuotias, koko ikä harrastusta muodossa
              tai toisessa
            </aside>
          </section>

          <section>
            <h3>Kuka?</h3>
            <div style="display: grid; grid-template-columns: 2fr 3fr">
              <div style="grid-column: 1;">
                <img src="images/tuleva-ammatti.jpg" style="height: 400px" />
              </div>
              <div style="grid-column: 2;">
                <img
                  style="height: 300px; margin-bottom: 0px;"
                  src="images/omakuva_kiroilua.PNG"
                />
                <p style="font-size: 0.25em; margin-top: 0px;">
                  Kuva: Janne Kari
                </p>
              </div>
            </div>
            <aside class="notes">
              Ohjelmistoinsinööri, helsinkiläinen, Kirkkonummen Komeetta,
              tähtikuvaus, tietokonegrafiikka
            </aside>
          </section>
        </section>

        <section>
          <section data-background-image="images/halotaustakuva.jpg">
            <h2 style="color: white">Mitä haloilmiöt ovat?</h2>
            <aside class="notes">
              Käydään kertauksen vuoksi halojen perusteet läpi. Kenelle halot
              eivät ole tuttuja?
            </aside>
          </section>

          <section>
            <h2>Jääkiteitä + valoa = haloja</h2>
            <aside class="notes">
              Haloilmiöitä syntyy kun yhdistetään tietynlaisia jääkiteitä ja
              valoa. Valo taittuu kiteiden sisällä ja heijastuu niiden
              pinnoista.
            </aside>
          </section>

          <section>
            <h3>Jääkidemuodot</h3>
            <ul>
              <li>Laattakiteet</li>
              <li>Pylväskiteet</li>
              <li>Pyramidikiteet</li>
            </ul>
            <canvas
              data-content="crystalExamples"
              width="900"
              height="400"
            ></canvas>
            <aside class="notes">
              Vesijää muodostaa kuusikulmaisia kiteitä. Haloilmiöihin
              vaikuttavat kiteiden muoto ja asento. Yleisimmät halomuodot
              muodostuvat ns. laatta- ja pylväskiteistä. Pylväskiteet kuin
              lyijykynän palasia. Kiteiden koko noin 0,1 mm.
            </aside>
          </section>

          <section>
            <h2>Sattumanvaraiset kiteet</h2>
            <img
              src="images/22degree_luomanen.jpg"
              style="margin-left: auto; margin-right: auto;"
              height="475"
            />
            <p style="font-size: 0.45em; margin-top: 0px;">
              Kuva: Jari Luomanen
            </p>
            <aside class="notes">
              Yleisin halomuoto, 22 ast. rengas. Syntyy sattumanvaraisissa
              asennoissa olevista kiteistä. Todellisuudessa myös
              yhteensulautuneita kiteitä.
            </aside>
          </section>

          <section>
            <h2>Laattakidehalot</h2>
            <div style="display: grid; grid-template-columns: 2fr 3fr; ">
              <canvas
                data-content="plateCrystals"
                width="300"
                height="500"
                style="grid-column: 1; grid-row: 1;"
              ></canvas>
              <img
                src="images/plate_crystals_anne_vaisanen.jpg"
                style="grid-column: 2; grid-row: 1; margin-left: auto; margin-right: auto; max-height: 475px;"
              />
              <p style="font-size: 0.45em; margin-top: 0px; grid-column: 2;">
                Kuva: Anne Väisänen
              </p>
            </div>
            <aside class="notes">
              Sivuauringot, horisonttirengas, zeniitinympäristön kaari
            </aside>
          </section>

          <section>
            <h2>Pylväskidehalot</h2>
            <div style="display: inline-grid; grid-template-columns: 2fr 3fr;">
              <canvas
                data-content="columnCrystals"
                width="300"
                height="300"
                style="grid-column: 1; grid-row: 1;"
              ></canvas>
              <img
                src="images/column_display_janne_voutilainen.jpg"
                style="grid-column: 2; grid-row: 1; max-height: 475px;"
              />
              <p
                style="font-size: 0.45em; margin-top: 0px; grid-column: 2; margin-left: auto; margin-right: auto;"
              >
                Kuva: Janne Voutilainen
              </p>
            </div>
            <aside class="notes">Yllä- ja allasivuavat kaaret</aside>
          </section>

          <section>
            <h2>Parry-halot</h2>
            <div style="display: grid; grid-template-columns: 2fr 3fr">
              <canvas
                data-content="parryCrystals"
                style="grid-column: 1; grid-row: 1;"
                width="300"
                height="300"
              ></canvas>
              <img
                src="images/parry_halos_luomanen.jpg"
                style="grid-column: 2; grid-row: 1; margin-left: auto; margin-right: auto; max-height: 475px;"
              />
              <p style="font-size: 0.45em; margin-top: 0px; grid-column: 2;">
                Kuva: Jari Luomanen
              </p>
            </div>
            <aside class="notes">
              Kuin pylväskiteet mutta prismasivu alaspäin.
            </aside>
          </section>

          <section>
            <h2>Lowitz-halot</h2>
            <div style="display: grid; grid-template-columns: 2fr 3fr;">
              <canvas
                style="grid-column: 1; grid-row: 1;"
                data-content="lowitzCrystals"
                width="300"
                height="300"
              ></canvas>
              <img
                src="images/lowitz_luomanen.jpg"
                style="grid-column: 2; grid-row: 1; margin-left: auto; margin-right: auto; max-height: 475px;"
              />
              <p style="font-size: 0.45em; margin-top: 0px; grid-column: 2;">
                Kuva: Jari Luomanen
              </p>
            </div>
            <aside class="notes">
              Kuin Parry, mutta kide heilahtelee tai pyörii voimakkaasti yhden
              akselin ympäri.
            </aside>
          </section>

          <section>
            <h2>Pyramidihalot</h2>
            <div style="display: grid; grid-template-columns: 2fr 3fr;">
              <canvas
                style="grid-column: 1; grid-row: 1;"
                data-content="pyramidCrystals"
                width="300"
                height="300"
              ></canvas>
              <img
                style="grid-column: 2; grid-row: 1; margin-left: auto; margin-right: auto; max-height: 475px;"
                src="images/pyramidhalos.jpg"
              />
            </div>
          </section>
          <aside class="notes">
            Harvinaisempia kiteitä, muodostavat pääasiassa erilaisia renkaita
            auringon ympärille.
          </aside>
        </section>

        <section>
          <section data-background-image="images/the-matrix.jpg">
            <h2 style="color: white">Simulaatio</h2>
            <aside class="notes">
              Käydään läpi miten haloilmiöitä tutkitaan tietokoneella
            </aside>
          </section>

          <section>
            <h3>Simulointi</h3>
            <ol>
              <li>
                Arvotaan
                <ul>
                  <li>Kiteen muoto</li>
                  <li>Kiteen asento</li>
                  <li>Valonsäde</li>
                </ul>
              </li>
              <li>Seurataan valonsädettä kiteen läpi</li>
              <li>Kirjataan mihin suuntaan valonsäde poistuu</li>
              <li>Toistetaan miljardi kertaa</li>
            </ol>
            <aside class="notes">
              Arvotaan kiteen muoto ja asento annetuista jakaumista, samoin
              valonsäteen tulosuunta ja aallonpituus.
            </aside>
          </section>

          <section>
            <h3>Säteen kuljetus</h3>
            <canvas data-content="raycasting" width="700" height="700"></canvas>
            <aside class="notes">Esimerkki säteen kulusta kiteen läpi</aside>
          </section>

          <section>
            <h3>HaloPoint 2.0 - Jukka Ruoskanen</h3>
            <img src="images/halopoint.PNG" height="500" />
            <aside class="notes">
              Yksi käytetyimmistä halosimulaattoreista. Monipuolinen.
            </aside>
          </section>
        </section>

        <section>
          <section>
            <h2>Nykytilanne</h2>
            <ul>
              <li>
                HaloPoint pääasiallinen työkalu
                <ul class="fragment">
                  <li>Päivitetty viimeksi 2011</li>
                </ul>
              </li>
              <li class="fragment">Simulointi hidasta</li>
              <li class="fragment">
                Tyypillinen workflow:
                <ol>
                  <li class="fragment">Muutellaan asetuksia</li>
                  <li class="fragment">Odotetaan 5-10 minuuttia</li>
                  <li class="fragment">Tarkistetaan tulokset</li>
                  <li class="fragment">Toistetaan ad nauseam</li>
                </ol>
              </li>
            </ul>
          </section>

          <section>
            <h2>Voisiko tilannetta parantaa jotenkin?</h2>
            <aside class="notes">
              Eikö olisi mukavaa, jos asetuksia voisi säätää reaaliajassa?
            </aside>
          </section>

          <section>
            <h2>Nopeus</h2>
            <ul>
              <li class="fragment" data-fragment-index="1">
                Prosessori
                <span class="fragment" data-fragment-index="6"
                  >= Formula 1</span
                >
                <ul>
                  <li
                    class="fragment fade-in-then-semi-out"
                    data-fragment-index="2"
                  >
                    Suorittaa äärimmäisen nopeasti yhden asian
                  </li>
                </ul>
              </li>
              <li class="fragment" data-fragment-index="3">
                Näytönohjain
                <span class="fragment" data-fragment-index="6"
                  >= Tavarajuna</span
                >
                <ul>
                  <li
                    class="fragment fade-in-then-semi-out"
                    data-fragment-index="4"
                  >
                    Suorittaa yhden asian hieman hitaammin, mutta...
                  </li>
                  <li
                    class="fragment fade-in-then-semi-out"
                    data-fragment-index="5"
                  >
                    Kykenee tekemään tuhansia asioita yhtä aikaa
                  </li>
                </ul>
              </li>
            </ul>
            <aside class="notes">
              Perinteisesti hyödynnetty prosessoria, yleensä yhtä ydintä.
              Prosessoreissa nykyään useampi ydin, parhaimmillaan moninkertainen
              nopeutus. Entä näytönohjaimet?
            </aside>
          </section>

          <section>
            <h2>Esimerkki</h2>
            <ul>
              <li class="fragment">
                Intel i7-3770K
                <ul>
                  <li class="fragment">Kellotaajuus 3,40 GHz</li>
                  <li class="fragment">4 ydintä</li>
                </ul>
              </li>
              <li class="fragment">
                NVIDIA Geforce GTX 1070
                <ul>
                  <li class="fragment">Kellotaajuus 1,50 GHz</li>
                  <li class="fragment">
                    1920 ydintä<span class="fragment"> !!!</span>
                  </li>
                </ul>
              </li>
            </ul>
            <aside class="notes">
              Tutkitaan miltä tilanne näyttää kotoa löytyvällä tietokoneella.
              Suunniteltu kuvien käsittelyyn ja pelaamiseen.
            </aside>
          </section>
          <section><h2>Voisiko näytönohjainta hyödyntää? 🤔</h2></section>
        </section>

        <section>
          <section>
            <h2>HaloRay</h2>
            <img height="500" src="images/haloray-screenshot.jpg" />
            <aside class="notes">
              Lähdin kokeilemaan, tuloksena HaloRay. Kokonaan näytönohjaimella
              toimiva halosimulaattori.
            </aside>
          </section>
          <section>
            <h2>HaloRay</h2>
            <ul>
              <li>Aktiivinen kehitys aloitettu toukokuussa</li>
              <li>Windows & Linux</li>
              <li>Kaikki laskenta tapahtuu näytönohjaimella</li>
              <li>
                Avointa lähdekoodia
                <ul>
                  <li>
                    <a href="https://github.com/naavis/haloray"
                      >https://github.com/naavis/haloray</a
                    >
                  </li>
                </ul>
              </li>
            </ul>
          </section>
        </section>

        <section>
          <section><h2>Vertailu</h2></section>

          <section>
            <h3>HaloPoint 2.0</h3>
            <img
              src="images/halopoint_column_5million_rays_5m11s.png"
              height="400px"
            />
            <p>5 000 000 sädettä, 5 min 11 s</p>
          </section>

          <section>
            <h3>HaloRay</h3>
            <img
              src="images/haloray_column_500million_rays_23s.png"
              height="400px"
            />
            <p>
              <span class="fragment">500 000 000 sädettä</span
              ><span class="fragment">, 23 s</span>
            </p>
          </section>

          <section>
            <h3>Vertailu</h3>
            <p>HaloPoint 2.0 - 16 000 sädettä / s</p>
            <p>HaloRay - 22 000 000 sädettä / s</p>
            <p class="fragment"><b>~1400x ero</b></p>
          </section>
        </section>

        <section>
          <img src="images/2014-06-24-high-cloud-halo-comparison.png" />
        </section>

        <section>
          <section>
            <h2>Ominaisuudet</h2>
            <ul>
              <li>Reaaliaikainen säätö</li>
              <li>Kuusikulmaisten säteiden simulointi</li>
              <li>Monen kidepopulaation simulointi kerralla</li>
              <li>Useampi eri kameraprojektio</li>
            </ul>
          </section>

          <section>
            <h2>Tulossa</h2>
            <ul>
              <li>Simulaation tallentaminen</li>
              <li>Pyramidikiteet</li>
              <li>Muut eksoottiset kidemuodot</li>
              <li>
                Analyysiominaisuuksia
                <ul>
                  <li>Mikä valonkulku aiheutti tämän halon?</li>
                </ul>
              </li>
            </ul>
          </section>
        </section>
      </div>
    </div>

    <script src="js/reveal.js"></script>

    <script>
      // More info about config & dependencies:
      // - https://github.com/hakimel/reveal.js#configuration
      // - https://github.com/hakimel/reveal.js#dependencies
      Reveal.initialize({
        hash: true,
        viewDistance: 3,
        dependencies: [
          { src: "plugin/markdown/marked.js" },
          { src: "plugin/markdown/markdown.js" },
          { src: "plugin/notes/notes.js", async: true }
        ],
        keyboard: {
          40: "next",
          38: "prev"
        }
      });
    </script>
    <script src="lib/js/jquery.min.js"></script>
    <script src="lib/js/EventEmitter.js"></script>
    <script src="js/canvases.js"></script>
    <script src="js/canvases/raycasting.js"></script>
    <script src="js/canvases/crystalExamples.js"></script>
    <script src="js/canvases/plateCrystals.js"></script>
    <script src="js/canvases/columnCrystals.js"></script>
    <script src="js/canvases/parryCrystals.js"></script>
    <script src="js/canvases/lowitzCrystals.js"></script>
    <script src="js/canvases/pyramidCrystals.js"></script>

    <script>
      initializeCanvases();
    </script>
  </body>
</html>
